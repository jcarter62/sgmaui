{% extends 'base.html' %}
{% load static %}
{% block content %}
    <form method="post">
    {% csrf_token %}
    <h3>Groundwater Calculation - Input Parameters</h3><br>
    <div class="container">
        <div class="row">
            <div class="col-3">From Date:</div>
            <div class="col-6">
                <input id="gc_from_date" name="gc_from_date"
                       type="date" value="{{ from_date }}" onchange="save_inp_val('gc_from_date')" >
            </div>
        </div>
        <div class="row">
            <div class="col-3">To Date:</div>
            <div class="col-6">
                <input id="gc_to_date" name="gc_to_date"
                        type="date" value="{{ to_date }}" onchange="save_inp_val('gc_to_date')">
            </div>
        </div>
        <div class="row">
            <div class="col-3">Calc / Post Date:</div>
            <div class="col-6">
                <input id="gc_calc_date" name="gc_calc_date"
                       title="This is the date that will be used to fill wtrtrans.date field."
                        type="date" value="{{ calc_date }}"  onchange="save_inp_val('gc_calc_date')">
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-3">TC Code:</div>
            <div class="col-6">
                <input id="gc_tc_code" name="gc_tc_code"
                        type="text" value="{{ tc_code }}" onchange="save_inp_val('gc_tc_code')">
            </div>
        </div>
        <div class="row">
            <div class="col-3">Code Code:</div>
            <div class="col-6">
                <input id="gc_code_code" id="gc_code_code"
                        type="text" value="{{ code_code }}" onchange="save_inp_val('gc_code_code')">
            </div>
        </div>

        <hr>
        <div class="row">
            <div class="col-3">
                <button type="submit" name="action" value="calc">
                    Calculate
                </button>
            </div>
            <div class="col-3">
                <button type="submit" name="action" value="view">
                    View Results
                </button>
            </div>

            <div class="col-3">
                <button type="submit" name="action" value="postdata" title="{{ postbtninfo }}" {{ postbtnstate }}>
                    Post Data
                </button>
            </div>

        </div>
    </div>
    </form>
    &nbsp;
    <br>
    <div class="container" id="lastcalc">
        <div class="row">
            Previous Calculations
        </div>
        <div class="row">
            <div class="col">State</div>
            <div class="col">Time Stamp</div>
            <div class="col">Parameters</div>
            <div class="col">Errors</div>
        </div>
       {% for r in results %}
        <div class="row">
            <div class="col">{{ r.process_state }}</div>
            <div class="col">{{ r.updated }}</div>
            <div class="col">{{ r.params }}</div>
            <div class="col">{{ r.errors }}</div>
        </div>
        {% endfor %}
    </div>

<script src="{% static 'gwcalc_inputs.js' %}"></script>
{% endblock %}
